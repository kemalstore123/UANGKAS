<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Laporan Uang Kas Mingguan 1 Tahun</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #eef2f5;
            padding: 20px;
        }
        .container {
            max-width: 1100px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
        }
        .header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        .header img {
            width: 80px;
        }
        label {
            font-weight: bold;
        }
        input, select, button {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 10px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }
        th {
            background: #f0f0f0;
        }
        .total {
            margin-top: 15px;
            font-size: 18px;
            font-weight: bold;
            text-align: right;
        }
        .hapus {
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>

<body>

<div class="container">
    <div class="header">
        <img src="logo.png" alt="Logo Sekolah">
        <div>
            <h2>Laporan Uang Kas Mingguan</h2>
            <p>Periode 1 Tahun (52 Minggu)</p>
        </div>
    </div>

    <label>Nama Orang</label>
    <input type="text" id="nama">

    <label>Minggu Ke-</label>
    <select id="minggu"></select>

    <label>Uang Masuk</label>
    <input type="number" id="masuk" value="0">

    <label>Uang Keluar</label>
    <input type="number" id="keluar" value="0">

    <button onclick="tambahData()">Tambah Data</button>
    <button onclick="simpanData()">ðŸ’¾ Simpan Laporan</button>

    <table>
        <thead>
            <tr>
                <th>No</th>
                <th>Nama</th>
                <th>Minggu</th>
                <th>Masuk</th>
                <th>Keluar</th>
                <th>Saldo</th>
                <th>Aksi</th>
            </tr>
        </thead>
        <tbody id="tabelKas"></tbody>
    </table>

    <div class="total">
        Total Saldo 1 Tahun: Rp <span id="totalSaldo">0</span>
    </div>
</div>

 <script>
    const mingguSelect = document.getElementById("minggu");
    const tabelKas = document.getElementById("tabelKas");
    const totalSaldoEl = document.getElementById("totalSaldo");

    // Buat minggu 1â€“52
    for (let i = 1; i <= 52; i++) {
        mingguSelect.innerHTML += `<option>Minggu ${i}</option>`;
    }

    let dataKas = JSON.parse(localStorage.getItem("dataKas")) || [];
    let totalSaldo = JSON.parse(localStorage.getItem("totalSaldo")) || 0;

    // Tampilkan data saat halaman dibuka
    tampilkanData();

    function tambahData() {
        const nama = document.getElementById("nama").value;
        const minggu = mingguSelect.value;
        const masuk = Number(document.getElementById("masuk").value);
        const keluar = Number(document.getElementById("keluar").value);
        const saldo = masuk - keluar;

        if (!nama) {
            alert("Nama harus diisi!");
            return;
        }

        dataKas.push({ nama, minggu, masuk, keluar, saldo });
        totalSaldo += saldo;

        tampilkanData();
        simpanKeStorage();

        document.getElementById("nama").value = "";
        document.getElementById("masuk").value = 0;
        document.getElementById("keluar").value = 0;
    }

    function tampilkanData() {
        tabelKas.innerHTML = "";
        let no = 1;

        dataKas.forEach((item, index) => {
            tabelKas.innerHTML += `
                <tr>
                    <td>${no++}</td>
                    <td>${item.nama}</td>
                    <td>${item.minggu}</td>
                    <td>Rp ${item.masuk}</td>
                    <td>Rp ${item.keluar}</td>
                    <td>Rp ${item.saldo}</td>
                    <td>
                        <button class="hapus" onclick="hapusData(${index})">
                            Hapus
                        </button>
                    </td>
                </tr>
            `;
        });

        totalSaldoEl.innerText = totalSaldo;
    }

    function hapusData(index) {
        totalSaldo -= dataKas[index].saldo;
        dataKas.splice(index, 1);
        tampilkanData();
        simpanKeStorage();
    }

    function simpanKeStorage() {
        localStorage.setItem("dataKas", JSON.stringify(dataKas));
        localStorage.setItem("totalSaldo", JSON.stringify(totalSaldo));
    }

    function simpanData() {
        simpanKeStorage();
        alert("âœ… Data berhasil disimpan!");
    }
</script>
    



